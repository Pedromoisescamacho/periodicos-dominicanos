diario_libre$titulo[as.Date(diario_libre$fecha) == "2015-07-27"]
diario_libre$titulo[as.Date(diario_libre$fecha) == "2015-10-0"]
diario_libre$titulo[as.Date(diario_libre$fecha) == "2015-10-07"]
ggplot(data=tokenInfo, aes(x = as.Date(fecha), y = Tokens, group = 1)) + geom_line() + geom_point(
)
range(diario_libre$fecha)
class(diario_libre$fecha)
max(diario_libre$fecha)
max(diario_libre$fecha) %>% as.Date() %>% -30
max(diario_libre$fecha) %>% as.Date() %>% -31
fecha_mi <- max(diario_libre$fecha) %>% as.Date() %>% -31
fecha_mi
diario_libre[diario_libre$fecha>=fecha_mi,]
dl_31 <- diario_libre[diario_libre$fecha>=fecha_mi,]
str(dl_31)
str(diario_libre)
dim(diario_libre)
dim(dl_31)
install.packages(c("shiny", "dplyr", "htmlwidgets", "digest", "bit"))
devtools::install_github("jcheng5/bubbles")
install.packages(c("shiny", "dplyr", "htmlwidgets", "digest", "bit"))
install.packages(c("shiny", "dplyr", "htmlwidgets", "digest", "bit"))
install.packages(c("shiny", "dplyr", "htmlwidgets", "digest", "bit"))
library(xml2)
library(dplyr)
library(lubridate)
library(quanteda)
##funcion para quitar los html tags
cleanFun <- function(htmlString) {
return(gsub("<.*?>", "", htmlString))
}
#### creando vector de las diferentes fuentes del diario libre
diario_libre <- c("https://www.diariolibre.com/rss/portada.xml",
"https://www.diariolibre.com/rss/noticias.xml",
"https://www.diariolibre.com/rss/mundo.xml",
"https://www.diariolibre.com/rss/economia.xml",
"https://www.diariolibre.com/rss/opinion.xml",
"https://www.diariolibre.com/rss/ciencia-y-tecnologia.xml",
"https://www.diariolibre.com/rss/revista.xml",
"https://www.diariolibre.com/rss/deportes.xml",
"https://www.diariolibre.com/rss/estilos.xml")
#### lista de palabras adicionales al stopword de espaÃ±ol
#funcion para leer el contenido de cada fuente para el diario libre
leer_contenido <- function(fuente){
xml <- read_xml(fuente)
titulo <- xml %>% xml_find_all("//item//title") %>% xml_text()
cuerpo <- xml %>% xml_find_all("//item//description") %>% xml_text(trim = TRUE)
fecha <- xml %>% xml_find_all("//item//pubDate") %>% xml_text()  %>% strptime( "%a, %d %b %Y %T", tz = "GMT") %>% with_tz("America/Caracas")
id_noticia <- xml %>% xml_find_all("//item//id") %>% xml_text()
autor <- xml %>% xml_find_all("//item//author") %>% xml_text()
data.frame(titulo, cuerpo, fecha, id_noticia, autor, stringsAsFactors = FALSE)
}
#obteniendo lista de dataframes de cada fuente
diario_libre <- lapply(diario_libre,leer_contenido) %>% do.call(what = rbind)
diario_libre$cuerpo <- sapply(diario_libre$cuerpo, cleanFun)
diario_libre
head(diario_libre)
names(diario_libre)
install.packages("devtools")
library(devtools)
2
3
install_github("Rfacebook", "pablobarbera", subdir="Rfacebook")
require (Rfacebook)
fb_oauth <- fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
require("Rfacebook")
fb_oauth <- fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
install.packages("Rfacebook")
fb_oauth <- fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
fb_oauth <- fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
library("Rfacebook")
fb_oauth <- fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
fb_oauth <- Rfacebook::fbOAuth(app_id="900224733468542", app_secret="bedffd32d84630eab7dccfdc6b3af772",extended_permissions = TRUE)
library(Rfacebook)
library(httr)
install.packages("httr")
library(httr)
install.packages("devtools")
library(devtools)
install_github("Rfacebook", "pablobarbera", subdir="Rfacebook")
require (Rfacebook)
fb_oauth <- fbOAuth(app_id="123456789", app_secret="1A2B3C4D",extended_permissions = TRUE)
appid <- "900224733468542"
appid <- "900224733468542"
token <- "bedffd32d84630eab7dccfdc6b3af772"
fb_oauth <- fbOAuth(app_id=appid, app_secret=token,extended_permissions = TRUE)
appid <- "900224733468542"
token <- "bedffd32d84630eab7dccfdc6b3af772"
fb_oauth <- fbOAuth(app_id=appid, app_secret=token,extended_permissions = TRUE)
appid <- "900224733468542"
token <- "bedffd32d84630eab7dccfdc6b3af772"
fb_oauth <- fbOAuth(app_id=appid, app_secret=token,extended_permissions = TRUE)
library(xml2)
noticia <- read_html(url)
url <- 'https://www.diariolibre.com/noticias/onamet-pronostica-aguaceros-debido-a-vaguada-que-atraviesa-el-pais-CF8326532'
noticia <- read_html(url)
noticia
noticia[1]
noticia$node
noticia$doc
url2 <- paste("http://www.supercasas.com/buscar/?do=1&PriceType=400&PagingPageSkip=", i, sep = "")
apartamentos <- read_html(url)
url2 <- paste("http://www.supercasas.com/buscar/?do=1&PriceType=400&PagingPageSkip=", i, sep = "")
url2 <- paste("http://www.supercasas.com/buscar/?do=1&PriceType=400&PagingPageSkip=")
apartamentos <- read_html(url)
precio <- apartamentos %>% html_nodes(".title1+ .title2") %>% html_text
library(dplyr)
precio <- apartamentos %>% html_nodes(".title1+ .title2") %>% html_text
install.packages("rvest")
noticia <- read_html(url)
titulo <- apartamentos %>% html_nodes(".title1+ .title2") %>% html_text
library(rvest)
titulo <- apartamentos %>% html_nodes(".title1+ .title2") %>% html_text
titulo
titulo <- apartamentos %>% html_nodes("title") %>% html_text
titulo
url <- 'https://www.diariolibre.com/noticias/onamet-pronostica-aguaceros-debido-a-vaguada-que-atraviesa-el-pais-CF8326532'
noticia <- read_html(url)
titulo <- apartamentos %>% html_nodes("title") %>% html_text
titulo
contenido <- titulo <- apartamentos %>% html_nodes("p") %>% html_text
contenido
contenido <- titulo <- apartamentos %>% html_nodes("div p") %>% html_text
conteindo
contenido <- titulo <- apartamentos %>% html_nodes("p , #layout-column_column-1") %>% html_text
contenido
contenido <- titulo <- apartamentos %>% html_nodes("p") %>% html_text
conteido
contenido
contenido <- titulo <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text
contenido
fecha <- apartamentos %>% html_nodes(".art-date") %>% html_text
fecha
fecha <- apartamentos %>% html_nodes("art-date") %>% html_text
fecha
fecha <- apartamentos %>% html_nodes(".art-date") %>% html_text
fec
fecha
(fecha <- apartamentos %>% html_nodes(".art-date") %>% html_text)
(fecha <- apartamentos %>% html_nodes("div art-date") %>% html_text)
(fecha <- apartamentos %>% html_nodes("div. art-date") %>% html_text)
contenido <- titulo <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text
contenido
do.call(contenido, paste0)
do.call(paste0,contenido)
str(contenido)
list(contenido)
do.call(list(contenido),paste0)
lcontenido <- list(contenido)
str(lcontenido)
lcontenido <- as.list(contenido)
lcontenido %>% str()
do.cal(paste0, lcontenido)
do.call(paste0, lcontenido)
x do.call(paste0, lcontenido)
x <- do.call(paste0, lcontenido)
x\
x
View(x)
contenido <- titulo <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
conteido
contenido
contenido[1]
contenido[[1]]
contenido %>% str
contenido %>% class
fecha
fecha <- apartamentos %>% html_nodes("art-date") %>% html_text
fecha
fecha <- apartamentos %>% html_nodes(".art-date") %>% html_text
fecha
fecha %>% gsub("*[0-9]*")
fecha %>% gsub(pattern = "*[0-9]*")
fecha %>% grep(pattern = "*[0-9]*")
fecha %>% grepl(pattern = "*[0-9]*")
fecha %>% grep(pattern = "*[0-9]*", value = T)
fecha %>% sub(pattern = "*[0-9]*", value = T)
fecha %>% sub(pattern = "*[0-9]*")
fecha %>% sub(pattern = "*[0-9]*")
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
fehca
fecha
noticia <- read_html(url)
titulo <- apartamentos %>% html_nodes("title") %>% html_text
contenido <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
fecha
sub("*[0-9]*", "", fecha)
sub("*[0-9]*", "", fecha)
enrique <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
names(diario_libre)
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
autor
str(autor)
fecha
autor
url <- "https://www.diariolibre.com/noticias/sucesos/fuerza-aerea-investiga-muerte-de-capitan-que-realizaba-salto-libre-de-paracaidismo-KH8328815"
noticia <- read_html(url)
titulo <- apartamentos %>% html_nodes("title") %>% html_text
contenido <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
autor
fecha
contenido
url <- "https://www.diariolibre.com/noticias/sucesos/fuerza-aerea-investiga-muerte-de-capitan-que-realizaba-salto-libre-de-paracaidismo-KH8328815"
noticia <- read_html(url)
titulo <- apartamentos %>% html_nodes("title") %>% html_text
contenido <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
url <- "https://www.diariolibre.com/noticias/sucesos/fuerza-aerea-investiga-muerte-de-capitan-que-realizaba-salto-libre-de-paracaidismo-KH8328815"
noticia <- read_html(url)
titulo <- html_nodes("title") %>% html_text
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- apartamentos %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
contenido
url <- "https://www.diariolibre.com/noticias/sucesos/fuerza-aerea-investiga-muerte-de-capitan-que-realizaba-salto-libre-de-paracaidismo-KH8328815"
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
titulo
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
contenido
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
fecha
autor
url <- "https://www.diariolibre.com/noticias/identifican-cabecilla-de-los-secuestradores-de-baldera-gmez-LLDL219057"
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
contenido
fecha
autor
titulo
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
resumen
url <- "http://bit.ly/SKYAS"
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
titulo
contenido
resumen
fecha
autor
setwd("C:/Users/pedro moises/Desktop")
dl_feed <- read.csv("./diario_libre_fb.csv")
str(dl_feed)
names(dl_feed
)
head(dl_feed)
dl_feed$messages
messages <- dl_feed$messages
library(stringi)
fruits <- c(
"apples and oranges and pears and bananas",
"pineapples and mangos and guavas"
)
stri_split(fruits," ")
strsplit(fruits," ")
messagess <- strsplit(messages, " ")
str(messages)
messagess <- strsplit(as.list(messages), " ")
read.csv("file:///C:/Users/pedro moises/Desktop/diario_libre_fb.csv", stringsAsFactors = F)
dl_feed <- read.csv("file:///C:/Users/pedro moises/Desktop/diario_libre_fb.csv", stringsAsFactors = F)
str(dl_feed)
messages <- dl_feed$messages
str(messages)
url <- strsplit(messages," ")
head(url)
url2 <- sapply(url, FUN = function(x) x[length(x)])
url2
url <- strsplit(messages," ") %>% sapply(FUN = function(x) x[length(x)])
url
url[url == "^http"]
url[grep('^http', url)]
url[grep(!'^http', url)]
url[!grep('^http', url)]
grep('^http', url)
grepl('^http', url)
url[!grepl('^http', url)]
url[!grepl('^ht', url)]
url[!grepl('^ht', url)]
x <- url[!grepl('^ht', url)]
gsub("*\n*", "")
gsub("*\n*", "", x)
x
x[385]
gsub("*\n*", "", x)[385]
gsub("*"http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+"", "", x)
gsub("http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+", "", x)[385]
gsub("http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+", "", x)
url_patter <- "http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\\(\\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+"
url_patter
stri_extract(x,url_patter)
str(x)
stri_extract(x,url_patter)
url_patter
stri_extract(x[385],url_patter)
diario_libro
dl_feed
names(dl_feed)
str(dl_feed)
dl_feed$dates <- as.Date(dl_feed$dates)
str(dl_feed)
length(dl_feed$dates[dl_feed$dates == "2017-10-07" ])
length(dl_feed$dates[dl_feed$dates == "2017-10-06" ])
length(dl_feed$dates[dl_feed$dates == "2017-01-06" ])
length(dl_feed$dates[dl_feed$dates == "2017-02-06" ])
length(dl_feed$dates[dl_feed$dates == "2017-03-06" ])
setwd("~/R/project/periodicos dominicanos/periodicos-dominicanos")
dl_fb <- read.csv("diario_libre_fb.csv")
str(dl_fb)
dl_fb <- read.csv("diario_libre_fb.csv", stringsAsFactors = F)
str(dl_fb)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
data.frame(titulo, contenido, fecha, autor, resumen)
}
diario_libre <- lapply(diario_libre,noticia) %>% do.call(what = rbind)
diario_libre <- lapply(dl_fb$url,noticia) %>% do.call(what = rbind)
dl_fb$url
class(dl_fb$url)
diario_libre <- lapply(list(dl_fb$url),noticia) %>% do.call(what = rbind)
diario_libre <- lapply(as.list(dl_fb$url),noticia) %>% do.call(what = rbind)
x <- dl_fb$url[1]
x
noticia(x)
noticia(x)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
#data.frame(titulo, contenido, fecha, autor, resumen)
}
noticia(x)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
data.frame(titulo, contenido, fecha, autor, resumen, stringsAsFactors = FALSE)
}
noticia(x)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
#data.frame(titulo, contenido, fecha, autor, resumen, stringsAsFactors = FALSE)
}
noticia
noticia(x)
noticia
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
#data.frame(titulo, contenido, fecha, autor, resumen, stringsAsFactors = FALSE)
print(titulo, contenido, fecha, autor, resumen)
}
noticia(x)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
#data.frame(titulo, contenido, fecha, autor, resumen, stringsAsFactors = FALSE)
c(titulo, contenido, fecha, autor, resumen)
}
noticia(x)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
data.frame(titulo, contenido, fecha, stringsAsFactors = FALSE)
#c(titulo, contenido, fecha, autor, resumen)
}
noticia(x)
noticia(x) %>% class()
diario_libre <- lapply(list(dl_fb$url),noticia) %>% do.call(what = rbind)
diario_libre <- lapply(dl_fb$url,noticia) %>% do.call(what = rbind)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
#autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
data.frame(titulo, contenido, fecha, stringsAsFactors = FALSE)
#c(titulo, contenido, fecha, autor, resumen)
}
diario_libre <- lapply(dl_fb$url,noticia) %>% do.call(what = rbind)
url_list <- dl_fb$url %>% as.list()
url_list %>% class()
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
#autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
data.frame(titulo, contenido, fecha, stringsAsFactors = FALSE)
#c(titulo, contenido, fecha, autor, resumen)
}
noticia(x)
noticia
diario_libre <- lapply(url_list[1:2],noticia) %>% do.call(what = rbind)
diario_libre
str(diario_libre)
diario_libre <- lapply(url_list[1:10],noticia) %>% do.call(what = rbind)
print(url_list)
url_list <- dl_fb$url
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:5],noticia) %>% do.call(what = rbind)
head(url_list)
diario_libre <- lapply(url_list[1:4],noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:3],noticia) %>% do.call(what = rbind)
dl_fb$messages %>% head()
url_list <- dl_fb$url[grepl("#EstilosRD"), dl_fb$messages]
url_list <- dl_fb$url[grepl("#EstilosRD", dl_fb$messages)]
head(url_list
)
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:5],noticia) %>% do.call(what = rbind)
dl_fb$messages %>% head(10)
grepl("*#EstilosRD",EstilosRD) %>%  head()
grepl("*#EstilosRD",EstilosRD)
grepl("*EstilosRD",EstilosRD)
grepl("*#EstilosRD",dl_fb$messages) %>%  head()
dl_fb$messages[grepl("*#EstilosRD",dl_fb$messages) %>%  head()]
dl_fb$messages[grepl("*#EstilosRD",dl_fb$messages) %>%  head()] %>% head()
dl_fb$messages[grepl("*#EstilosRD*",dl_fb$messages) %>%  head()] %>% head()
dl_fb$messages[grepl("#EstilosRD",dl_fb$messages) %>%  head()] %>% head()
dl_fb$messages[grepl("EstilosRD",dl_fb$messages) %>%  head()] %>% head()
str <- "esto es un de buscar  #EstilosRD!"
grepl("stilosRD", str)
str <- "DE BUENA TINTA: El PLD con la lÃ¡mpara de DiÃ³genes #DLOpinion https://buff.ly/2xYlQ01"
grepl("stilosRD", str)
dl_fb$messages[grepl("EstilosRD",dl_fb$messages)] %>% head()
dl_fb$messages[grepl("EstilosRD",dl_fb$messages)] %>% length()
url_list <- l_fb$url[grepl("EstilosRD",dl_fb$messages)]
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
url_list <- l_fb$url[grepl("EstilosRD",dl_fb$messages)]
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
url_list <- dl_fb$url[grepl("EstilosRD",dl_fb$messages)]
diario_libre <- lapply(url_list,noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:6],noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:5],noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1:2],noticia) %>% do.call(what = rbind)
diario_libre <- lapply(url_list[1],noticia) %>% do.call(what = rbind)
url_list[1]
noticia(url_list[1])
noticia <- function(url){
noticia <- read_html(url)
titulo <- noticia %>% html_nodes("title") %>% html_text
contenido <- noticia %>% html_nodes("#layout-column_column-4 p") %>% html_text %>%
as.list() %>% do.call(what = paste0)
fecha <- noticia %>% html_nodes(".art-date") %>% html_text
#autor <- noticia %>% html_nodes("#layout-column_column-2 a") %>% html_text
resumen <- noticia %>% html_nodes(".art-sub") %>% html_text
#data.frame(titulo, contenido, fecha, stringsAsFactors = FALSE)
c(titulo, contenido, fecha, autor, resumen)
}
noticia(url_list[1])
